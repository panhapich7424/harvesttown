(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();class n extends Phaser.Scene{constructor(){super({key:"SimpleGameScene"})}create(){this.add.rectangle(800,600,1600,1200,5025616);for(let s=0;s<50;s++)for(let e=0;e<40;e++){const r=(s+e)%2===0?9159498:5025616;this.add.rectangle(s*32+16,e*32+16,32,32,r)}this.player=this.add.rectangle(400,300,24,32,2201331),this.player.setStrokeStyle(2,16777215);const o=this.add.circle(400,290,8,16761095);o.setStrokeStyle(1,0),this.player.setData("head",o),this.cursors=this.input.keyboard.createCursorKeys(),this.wasdKeys=this.input.keyboard.addKeys("W,S,A,D"),this.cameras.main.setBounds(0,0,1600,1280),this.cameras.main.startFollow(this.player),this.cameras.main.setZoom(2),this.debugText=this.add.text(10,10,"",{font:"16px Arial",color:"#000000",backgroundColor:"#ffffff",padding:{x:8,y:4}}),this.debugText.setScrollFactor(0),this.debugText.setDepth(1e3);const t=this.add.text(this.cameras.main.width/2,50,`WASD or Arrow Keys to Move
F3 for Debug Info`,{font:"18px Arial",color:"#000000",backgroundColor:"#ffffff",padding:{x:10,y:5},align:"center"});t.setOrigin(.5,0),t.setScrollFactor(0),t.setDepth(1e3),this.input.keyboard.on("keydown-F3",()=>{this.debugText.visible=!this.debugText.visible}),console.log("Simple game scene created successfully!")}update(){let t=0,s=0;this.cursors.left.isDown||this.wasdKeys.A.isDown?t=-200:(this.cursors.right.isDown||this.wasdKeys.D.isDown)&&(t=200),this.cursors.up.isDown||this.wasdKeys.W.isDown?s=-200:(this.cursors.down.isDown||this.wasdKeys.S.isDown)&&(s=200),t!==0&&s!==0&&(t*=.707,s*=.707),this.player.x+=t*(1/60),this.player.y+=s*(1/60);const e=this.player.getData("head");e&&(e.x=this.player.x,e.y=this.player.y-10),this.debugText.setText([`FPS: ${Math.round(this.game.loop.actualFps)}`,`Player: (${Math.round(this.player.x)}, ${Math.round(this.player.y)})`,`Velocity: (${Math.round(t)}, ${Math.round(s)})`,`Camera: (${Math.round(this.cameras.main.scrollX)}, ${Math.round(this.cameras.main.scrollY)})`,"","Controls:","WASD/Arrows - Move","F3 - Toggle Debug"].join(`
`))}}class d{constructor(){const o={type:Phaser.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#2c3e50",render:{pixelArt:!0,antialias:!1,roundPixels:!0},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,min:{width:800,height:600},max:{width:1920,height:1080}},input:{keyboard:!0,mouse:!0},scene:[n]};this.game=new Phaser.Game(o),this.setupGlobalEvents();const t=document.getElementById("loading");t&&(t.style.display="none"),console.log("Simple HarvestTown initialized!")}setupGlobalEvents(){window.addEventListener("blur",()=>{}),window.addEventListener("focus",()=>{}),window.addEventListener("resize",()=>{this.game.scale.refresh()}),window.addEventListener("error",o=>{console.error("Game Error:",o.error)})}getGame(){return this.game}destroy(){this.game&&this.game.destroy(!0)}}document.addEventListener("DOMContentLoaded",()=>{window.harvestTown=new d});
